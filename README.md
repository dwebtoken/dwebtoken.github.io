# Era of dweb

인터넷과 world wide web(이하 웹)은 20세기에 들어와서 많은 변화를 이끌어냈습니다.
이메일, FTP, Telnet등 수 많은 프로토콜이 있었지만 현재 대부분의 정보의 생산자와 
소비자는 웹을 이용하고 있습니다. 초기에는 웹의 기반을 지탱하는 http, html 프로토콜이
기술적으로 뛰어난 것이 아니였음에도 꾸준한 개선과 UserGroup의 참여, w3c의 위원회
활동등 전세계에서 오픈소스 정신과 국경을 넘는 기여가 합쳐져 큰 합의를 이끌어냈고
지금은 개인은 물론 영리기업들도 지속적인 투자를 하며 발전하고 있습니다.

사람의 이해관계는 늘 어려운 문제입니다. 이로인해 웹 발전이 어려웠거나 잘못된 의사결정이 
난 경우도 있었습니다. 투표와 합의, proposal, draft, working candidate등
수 많은 합의과정이 오랜 시간이 흘러 정착되었고 이제는 신뢰에 기반하여 웹이 발전하고
있습니다. 

> 과연 블록체인과 토큰 이코노미와 생태계에서는 누가 합의를 이끌어낼까요?

이전에는 오프라인의 서비스와 프로젝트가 온라인으로 옮겨오는 경우가 많았다면
지금은 오프라인에 존재하지 않고 거꾸로 시작부터 웹에서 새로운 서비스와
프로젝트를 만들고 여러 참여자와 지식 데이터베이스가 쌓이는 일이 많습니다.
여기에 비트코인과 이더리움 같은 자산이 온라인 형태의 재단에 쌓이고 있습니다.

사람의 이해관계를 해결하기 위해 법과 금융의 도구와 장치들이 오프라인에는 
준비되어있으나 아직 웹에는 그 역할이 미미합니다. 블록체인 커뮤니티에는
다행히 지식인들이 자율적인 정책과 헌법으로 올바르게 움직이고 있으나
점점 참여자가 많아지고 시간이 흘러 이해관계가 복잡해지면 언젠가
오프라인에 있었던 법과 금융의 도구와 장치가 필요합니다.

# Definition of dweb

기존의 웹의 연결고리인 도메인은 여러명이 소유할 수 없고, 한개의 도메인을
여러명에게 쪼갤수 없으며, 그 소유권을 이전할 방법이 없습니다. 이 때문에
웹에서 새로운 서비스를 만들더라도 오프라인의 장치(법인)이 없이는 누가 언제 
시작했는지 기록을 남기지 못하고, 기여자에게 보상을 주지 못했으며, 공공의 이익인
자본금을 모으거나 쓰기 어려웠습니다. 심지어 오프라인 장치를 두더라도 
여전히 국경과 언어, 화폐의 제약이 있습니다.

> 우리는 Decentralized Web(이하 디웹)이라고 부르기 시작합니다. 

똑같은 웹과 도메인이지만, 만약 이것의 지분과 자본금이 블록체인 위에 
올라가 있다면 그건 "dweb" `/diː'web/` (디웹) 이라고 정의합니다.

디웹으로 불리우는 모든 웹사이트&middot;웹서비스&middot;도메인&middot;커뮤니티는 
누구나 국가&middot;인종&middot;성별&middot;언어&middot;화폐와 상관없이 

- 지분을 소유 가능합니다.
- 투표가 가능합니다.
- 보상을 받는게 가능합니다.
- 소유권과 역사를 투명하게 조회 가능합니다.

왜 이런 일을 할까요? 웹의 기원 정신을 계승받고, 블록체인의 탈중앙화 정신을 이어받아서 
기존 웹을 발전시키려고 합니다. 지금도 수많은 체인들과 토큰들은 각자의 프로토콜과 미션을 
가지고 기술을 투자하고 있으나 전체적인 커뮤니티의 합의를 이끌어내는 곳은 아직 정해지지 
않습니다. 서로 경쟁을 하여 51%를 확보하고 major로서 하나의 네트워크, 하나의 체인으로 
모든 트랜잭션과 생태계를 통일하려는 움직임이 있지만 적어도 그 시점이 도래하기 전까지는
dweb의 임시적인 working group이 역할을 대신하고 있어야합니다. 그리고 완성된
블록체인이나 플랫폼이 나오면 dweb은 지지를 하고 기술구현을 바꾸는 중립성을 보여야합니다.


# Fundamental of dweb

## decentralized domain

It is capable of commiting that

- ownership and assets must be liquidated and transferable.
- voting must be eligible for governence and consensus purpose.

도메인 자체에 하나 이상의 지갑주소를 가지고 있습니다. 도메인은 비트코인, 이더리움등 
다른 지갑주소를 가질 수 있습니다. 도메인의 지갑에서 트랜잭션을 만드는 경우
도메인 모든 소유자들의 보팅이 필요합니다. 따라서 공동 소유와 공동 지출이 기본입니다.
만약 프라이빗하게 소유와 지출을 하고 싶다면 투표를 통해 지갑을 분리합니다.

## dwebtoken 디웹토큰

디웹은 한가지 코인을 강제하지 않습니다. 많은 코인들이 개발 단계을 마치고
네트워크 안정화가 끝나면 그때 디웹에서 주류 화폐로 역할을 할 것입니다. 
하지만 그 시점이 도래하기 전까지 몇가지 예정 루트코인과 1:1 대칭되는 
토큰을 만들어서 트랜잭션의 한계를 임시적으로 뛰어넘고, 가치의 저장은
유효하게 합니다. 디웹토큰은 다른 코인들의 ledger 입니다.

> 2018년 기준 시가총액 상위 btc, eth, xrp, bch, eos, ltx, xlm, ada, iota 
> 암호화폐 거래에 쓰이는 코인을 루트코인이라고 부릅니다.
> Cosmos등 디웹에 알맞는 다른 네트워크를 계속 심사중입니다.

디웹토큰은 아래의 속성을 가집니다:

0. **가치의 교환**
tangible. 무형의 서비스를 제공함으로서 받거나 보내는 가치의 교환. 모든 교환은 실시간으로
이루어지고, 교환 내용은 항상 저장되고, 자산에 따라 모두가 이를 볼수있음. 가치의 교환은 
기술적으로 ledger로 시작하지만 하단의 '가치의 사실과 커뮤니티' 합의에 따라 루트코인을
기존의 xrp, eth로 선택한경우 해당 블록체인에 원장이 기록되는 특징이 있음. 기술적 완성도에 
따라 원장을 옮길수있음.

0. **가치의 저장**
store of value. asset. 자연인이 어떤 가치를 소유하고 있는지 자산을 기록하고 위변조되지 않음.
새롭게 생긴 도메인도 각자의 자산을 가지게 되고. 자연인이 서비스를 일부 소유하거나
서비스가 일부 자연인에게 소유되거나, 도메인이 일부 서비스에게 소유되거나등의 저장이 가능.
자산은 항상 공개되지만 루트코인 기반으로 또다른 토큰을 만든 경우 하위 자산 공유여부는
도메인 정책에 따라 선택할수있음.

0. **지분증명과 투표** 
proof of stake 특정 도메인에 대해 자연인과 또 다른 도메인이 자산을 각자 소유하고 있을때
이 도메인의 정책에 따라 투표를 시작할수있고, 투표 절차와 결과는 분산화된 검증방식으로
위변조없이 집계됨. 보팅은 의사결정에 이용할수도, 수익분배안에 지분율을 정할수도, 
staking을 통해 기여도 commitment를 보여줄수도, 컨트랙트 역할을 할수도 있음 
(vesting, escrow) 불특정 다수에게 지지/투표를 받고 이를 변조되지 않고 보관

0. **가치의 사슬과 커뮤니티 합의** 
value chain 디웹의 모든 도메인은 상위 개념을 포함하고 있어야함.
커뮤니티의 철학, 체인의 정책, 통화 정책(루트코인-xrp)등을 따르는 상위개념이 필요함.
최상위 root level1 도메인은 하위에 여러개 level2 도메인들을 두게되고
level3 도메인도 둘수있음. 이해관계에 의해 상위도메인을 잘 선택해야하고
지역적인 국가적인 법률/경제/외교 정책적인 부분에 따라 상위 도메인을 바꾸는것도 
가능해야함. 또는 여러개의 border(국가적 이해관계)를 가지는 것도 가능해야함.

### dwebtoken Design Decisions

- 기술적으로 정답을 내기전에 우리가 해결하려는 문제 먼저 정의해야함.
- 안전,속도,운영적인 부분은 최우선 0순위
- 이후 가치의 교환, 저장, 지분증명과 투표 1순위
- 가치의 사슬과 커뮤니티 합의, PoB 컨트랙트 2순위
- 채굴량/보상량 지원하도록 디자인 과정 거침
- 이미 bitcoin core의 pow와 이더리움의 erc20
- 이오스와 bp의 과정, 코스모스의 blockchain interoperable등 
- 전세계에서 다양한 노력을 하고있고 몇가지 아이디어를 지지하고 참고과정을 거침
- 지지하는 아이디어를 여기서 공개하지 않음. 


### 물리적으로 분산화된 위변조 불가능한 장부
7개의 대륙에 분리되어 물리적 거점을 두고 각 대륙마다 6개의 노드가 있으므로 
총 42개의 노드가 네트워크를 운영하고 컨트랙트를 수행합니다. [노드운영 보고서](#none)를
참고

### 트랜잭션 응답성
PoW에 비해 상대적으로 합의를 거쳐야할 노드검색비용과 
채굴비용이 적기 때문에 30초 이내의 컨펌이 가능합니다. 대부분 오픈소스 기술에 의존
하고있으며 최소 2개 이상의 대안기술과 함께 도입을 결정합니다. [2018년 TPS 보고서](#none)에
따르면 테스트넷에서 000TPS 되었으며 'fee settlement' [수수료후정산 정책](#none)을 
통해 DDoS를 방지하고 있습니다.


### 수수료
2018년 기준 트랜잭션 수수료 책정기준이 네트워크 혼잡이 발생하거나 일으키기
전에 책정되어 사실상 적은비용으로 네트워크혼잡시키는게 가능했으나, dwebtoken은
실제 컨펌이후에 해당컨펌으로 뒤에 지연된 트랜잭션들 크기(queue length 대기열크기)를 
기반으로 수수료가 책정되므로 악의적인 공격에도 후에 많은 수수료를 지불해야하고
또는 네트워크 혼잡비용이 없다면 무료로 전송도 가능합니다. [unconfirmed transactions](#none)에서
조회 가능함. 최솟값 $0.00, 최댓값 $3.13, 평균값 $0.05 (xrp 전송수수료 가격임)

컨트랙트: 잘알려진 스마트컨트랙트는 튜링컴플리트하거나 독자적인 가상머신을 통해
 스크립트화 가능하게 되어있고 이걸 수많은 노드에서 독립적으로 실행합니다. 하지만
 컨트랙트의 확정성에 비해 대부분 컨트랙트는 비슷한 역할만을 하고 있었고, 컨트랙트
 의 생성에는 오히려 장벽이 세워졌다는 단점을 파악했습니다. 개발자만 할수있으니까.
 또한 온라인과 연결되지않은 샌드박스 컨트랙트이므로 실질적으로 오프라인과 연계하여
 쓰기에는 부족함이 많고, 결국 중앙화된 중간단계가 개입하게 되는 일이 있었음.
 디웹토큰은 PoS, PoB를 통해 아주간단히 원하는 경제모델을 실현하도록 돕습니다.
 지정된 도메인의 토큰으로 보팅을 하여 컨트랙트의 일부를 트리거하도록 가능하며
 도메인의 토큰으로 보팅을 하는건 웹 UI로 공개되어있기 때문에 누구나 참여가능합니다.
 이를 명목상 합의자 1of6, 합의자 3of6 형식으로 사람이 실행하는 합의로 이용하수있음
 거래소나 일부 지갑이 투표를 지원하지 않더라도 문제없음. 컨트랙트야말로 블록체인의
 활발한 연구중하나이고 좋은컨셉이 많이나오는걸 알고있으므로, 가급적 기능추가보다는
 좋은 대안이 있다면 컨트랙트 포맷도 여러개를 지원할 예정

## dwebtoken dlist.io 포탈

Decentralized list의 약자로 도메인. 여기서 루트코인 조회, 지갑생성,
루트코인 거래, 송금등 가능함. 여기서 각 도메인들 로드맵과 공시자료 볼수있고
erc20로 코인만드는것처럼 가능함. 새로운 도메인 상장도 가능함

- Domain: 하나 이상의 상위 도메인(루트코인 또는 철학)을 선택하여 새로운
 도메인 만든다. 디파짓/자본금으로 루트코인이 필요함. 도메인에 대한 지갑,
 자산, 컨트랙트가 있으므로 ICO를 진행해도되고, 이경우 자본금이 충전되는동시
 토큰이 발행해줌. 도메인마다 누구의 참여, 비중변경, 시가총액 넘음, 전문투자자
 입성등등 이벤트가 생기고 이걸 선택하여 개시한다.
    - Domain > Roadmap: 도메인의 발전계획을 적어놓는다. 작성하고 내부 컨펌을
    받아 보팅이 되어야 게시된다. 1 토큰이라도 있는경우 알림을 받는다. (투표참여,완료)
    - Domain > Request Fork: approval fork can no-fee, undetermined 
    fork requires fee. 첫번째 회신은 승인/중립(검토시간필요72시간->보팅하면 
    72시간 연장)/거절, 두번째 회신은 승인/거절, 세번째는 통보.
    승인안받아도 증거금 채우는거 가능함. 컨트랙트로 입금먼저받을수있고, 환불지급
    가능함.
    - Domain > Readme: github repo 연동 또는 바로 적음
    - Domain > Tokens: 통계목적, 발행량, 발행기준, 
    - Domain > Transactions: 거래내역, 송금, 지갑생성
    - Domain > Contracts: 보팅+컨트랙트=액트 공개/비공개 컨트랙트(기간 총량 입금주소),
    기본보팅 tx전송가능여부, 루트코인여부, 1시간내에 수정불가능, 체인들어감
    일반적인 블록체인들처럼 스크립트로 프로그래밍하는걸 지원할예정이지만
    베타동안은 미리 몇개 템플릿으로만 쓰도록 할 예정. 언제든요청해서 제작가능
    대표적으로 지원하는것은 보팅조건, 기간, 정렬, SQL, 하위도메인의보팅결과
    해당도메인중 위원회선출을 위해 서브도메인으로 포크하여나누고 여기에
    컨트랙트를 기간+후보자투표(코드)+코드에전송(투표)+조건에따라선출+투표코인분배(1개)
    여기 컨트랙트베이스로 상위컨트랙트구성 집계(a,b)+조건에따라실행+대기+완료.
    투표에 스테이킹필요함
    
    - Domain > Issues: github or 게시판 (voting)
- Funds: 모든 지갑들 나옴. KYC 거친 1명당 1도메인 1계좌 루트코인정책
- Listings: 여러개의 도메인 모음
- 3rd-party Verified: 최소 3명이 KYC한경우, 자본금이 1btc가 넘는경우,

> 예제 들어가야함

![dlist.io screenshot 1](https://dwebtoken.github.io/sample1.png)

```js
// ECMA, Scala

1 token = 1 voteup, 30%> A, 60%> B, 30%< C
 A: mainnet.msend(issue_token(contract(...).mbalance), 
 contract(...).m_tagged_address(...))
 A: 
   d1 <- contract(...).mbalance
   d2 <- contract(...).m_tagged_address(...)
   t1 <- issue_token(...)
   each (bal, addr)
    mainnet.send(from: (t1, bal), to: (addr, bal))
```

메인넷오픈은 사본제공. 

```js
-- SQL
a = SELECT staked_balance, address FROM CONTRACT_111
SEND_TX(....)

items = a.map( row => { a: row.address })
INSERT INTO MAINNET_111_TRANSACTIONS 
SET @items, valid = (VALID_CONTRACT(111) && VALID_ADDRESS(111))
```

<br />
<br />

# dwebtoken Foundation

- 재단은 미리 모든토큰을 발행하여 보유하지 않는다.
- 토큰은 컨트랙트를 통해서만 발행한다. 모든 발행시점과 참여자 기록이 남음.
- 재단은 토큰 보유분의 `get_nth_voting_of_contract(id=1, key='재단토큰보유분투표', default=50)`%는 반드시 다른 도메인의 토큰으로 보유한다. 
  기초자산을 여러 도메인으로 나누면 몇가지 도메인의 가치평가로 인한 이익보다는 
  **대다수 도메인 생태계의 생존과 가치를 높이는 방향으로 의사결정을 하기 위함.**
- 재단은 2018년 기준 코인이외에도 루트코인을 적극적으로 지원해야함.
- 재단은 우수한 커뮤니티와 헌법에 대해 재단 토큰을 선행적으로 투자하는 의무가 있음.
- 재단은 불완전한 커뮤니티에 대해 재단 토큰을 선행적으로 청산할 의무가 있음. (재단보유분만 해당)

# Frequently Asked Questions

자주 묻는 질문 [Github Issues](https://github.com/dwebtoken) 에서 추가

### [FAQ-11](#none). 기존의 btc, eth와 같이 가치의 저장과 교환을 주로하는 또 하나의 블록체인인가요? 
dweb에서는 btc, eth는 물론 xrp, eos등 다양한 코인들을 이용가능하며 원한다면
dwebtoken을 이용할 수 있습니다. dwebtoken은 독자적으로 가치의 저장과 교환을
하는 새로운 블록체인이 맞습니다. 하지만 이건 다른 블록체인들의 기술적 안정화
단계까지 버티기 위한 임시적인 체인이라고 생각하는게 맞습니다. 멋지게 설계된 
eth erc20가 여러가지 토큰을 메인넷 출시이전에 지탱하듯, 디웹토큰 또한
확실한 플랫폼으로 메인넷 전환하기 전까지 쓸 예정입니다.

### [FAQ-15](#none). dwebtoken은 발행량 채굴량?
발행량은 1000억개로 고정되어있습니다. 채굴량(보상량)은 매우 가변적입니다. 
체인에 스마트컨트랙츠를 추가하는것처럼 채굴량에 대한 컨트랙트가
별도로 있습니다. 추후 투표로 헌법이 개정되어 채굴량에 대한
정의가 새롭게 생기고 컨트랙트가 시작되면 그때 채굴량이 발생됩니다.
에어드랍도 비슷한 방식으로 작동합니다. 시초에는 아무도 토큰을 소유하지 않습니다.

### [FAQ-37](#none). dwebtoken은 다른 거래소에 상장하나요?
거래와 사용이 가능한 토큰이므로 가치가 변동되고 이에 따라
ask bid 호가가 발생할수있는점을 알고있습니다. 하지만 이를
공싱적으로 지지하지않습니다. dwebtoken은 dweb의 피와 같은 존재입니다.
생태계와 플랫폼이 문제 없이 흘러가도록 쓰는 용도이므로 시세변동폭을 
바라지않습니다. 다만, dwebtoken으로 언제나 다른 도메인을 살수있으므로
해당 도메인이 거래소에 상장되었다면 이를 통해 거래 할수있습니다.

# Reference

- [Release Notes](https://www.notion.so/Dwebtoken-Release-Notes-ko-KR-8b58e83e5b6f4bc29b5aa62bcff10752)
- [Dwebtoken Improvement Proposal repository: DIP](#none)
- Github repository [dwebtoken/core](#none)
- Github repository [dwebtoken/dlist](#none)
- Github repository [dwebtoken/js](#none)
- websocket api [dwebtoken/example/websocket](#none)
- http rest api [dwebtoken/example/http](#none)
- reddit
- medium
- stackexchange
- dwebtoken.dlist.io ![Asset](https://img.shields.io/liberapay/receives/Changaco.svg) ![PyPI - Status](https://img.shields.io/pypi/status/Django.svg)
- [Download PDF](https://github.com/dwebtoken/dwebtoken.github.io/raw/master/DRAFT.pdf)
